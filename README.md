# shape-viewer
Shape 瀏覽工具

可上傳 shape 文件，產生圖層，在畫布中繪製形狀，並使用滑鼠放大、縮小及查看資訊。

網址: https://afternoon-brushlands-70193.herokuapp.com/shape_viewer/

## 功能

### 1. 拖曳檔案進畫面，產生新的圖層

https://www.figma.com/proto/dbCUpxQglJKuOgPGMzrIfEQx/Shape-Viewer?node-id=1%3A2&scaling=min-zoom

### 2. 刪除圖層

https://www.figma.com/proto/dbCUpxQglJKuOgPGMzrIfEQx/Shape-Viewer?node-id=3%3A33&scaling=min-zoom

### 3. 顯示/不顯示 選取的圖層

https://www.figma.com/proto/dbCUpxQglJKuOgPGMzrIfEQx/Shape-Viewer?node-id=3%3A109&scaling=min-zoom

### 4. 滑鼠點擊 -> 拖曳，放大畫面

https://www.figma.com/proto/dbCUpxQglJKuOgPGMzrIfEQx/Shape-Viewer?node-id=3%3A171&scaling=min-zoom

### 5. 滑鼠滾輪，放大/縮小畫面

### 6. Home (將目前顯示的圖層，全部顯示在畫面裡)

https://www.figma.com/proto/dbCUpxQglJKuOgPGMzrIfEQx/Shape-Viewer?node-id=3%3A300&scaling=min-zoom

### 7. 選取 contour 節點，顯示座標

https://www.figma.com/proto/dbCUpxQglJKuOgPGMzrIfEQx/Shape-Viewer?node-id=3%3A360&scaling=min-zoom

---

## 檔案格式

* 注意：以下所有出現的座標數值，當顯示在界面上，須除以一千萬 (10000000)
* 在 input 資料夾下有範例檔案。

### Circle

圓形，有 X, Y, radius 三個數值。

* x: 中心 X 座標
* y: 中心 y 座標
* radius: 半徑

#### Format

```
Version=1.0
shapeType=Circle
TP=<string>
FeatureIndex=<integer>
<x>, <y>, <radius>
```

#### Example

```
Version=1.0
shapeType=Circle
TP=ftPad
FeatureIndex=0
56967461, 88921796, 750000
```

### Line

圓頭線，是指：從點 1 畫一個圓，拖曳到點 2 的形狀，有 x1, y1, x2, y2, radius 五個數值。

* x1: 點 1 的 X 座標
* y1: 點 1 的 y 座標
* x2: 點 2 的 X 座標
* y2: 點 2 的 y 座標
* radius: 半徑

![img](https://github.com/eastektw/shape-viewer/blob/master/images/shape-line.png)

#### Format

```
Version=1.0
shapeType=Line
TP=<string>
FeatureIndex=<integer>
<x1>, <y1>, <x2>, <y2>, <radius>
```

#### Example

```
Version=1.0
shapeType=Line
TP=ftLine
FeatureIndex=0
42904234, 83890263, 51592682, 86466650, 500000
```

### Arc

圓頭弧，是指：是指：從點 S 畫一個圓，繞著點 C 拖曳到點 E 的形狀，有 xs, ys, xe, ye, xc, yc, radius, counter 八個數值。

* xs: 起始點 X 座標
* ys: 起始點 Y 座標
* xe: 結束點 X 座標
* ye: 結束點 Y 座標
* xc: 圓心 X 座標
* yc: 圓心 Y 座標
* radius: 圓頭的半徑
* counter: 順或逆時針，scCW=順時針，scCCW=逆時針

![img](https://github.com/eastektw/shape-viewer/blob/master/images/shape-arc.png)

#### Format

```
Version=1.0
shapeType=Line
TP=<string>
FeatureIndex=<integer>
<xs>, <ys>, <xe>, <ye>, <xc>, <yc>, <radius>, <scCW | scCCW>
```

#### Example

```
Version=1.0
shapeType=Arc
TP=ftArc
FeatureIndex=0
64930096, 86466650, 62120549, 72617395, 63735701, 79499344, 1000000, scCW
```

### Rect

矩形。有 x, y, half_width, half_height 四個數值。

* x: 中心點 x 座標
* y: 中心點 y 座標
* half_width: 矩形寬度的一半
* half_height: 舉行高度的一半

#### Format

```
Version=1.0
shapeType=Rect
TP=<string>
FeatureIndex=<integer>
<x>, <y>, <half_width>, <half_height>
```

#### Example

```
Version=1.0
shapeType=Rect
TP=ftPad
FeatureIndex=1
54844091, 78172239, 1750000, 800000
```

### Contour

多邊形集合。此處的 Contour 為可能帶任意多洞的多邊形集合。所謂的 "洞" 是指：多邊形內部可能穿透過去的多邊形區域。

![img](https://github.com/eastektw/shape-viewer/blob/master/images/shape-contour.png)

#### Format

```
Version=1.0
shapeType=Contour
TP=<string>
FeatureIndex=0
<polygon_count>
<outer_polygon_vertex_count>
<x>, <y>
...
<hole_polygon_vertex_count>
<x>, <y>
...
<hole_polygon_vertex_count>
<x>, <y>
...
```

#### Example

```
Version=1.0
shapeType=Contour
TP=ftSurface
FeatureIndex=0
4
11
98306808, 71403999
98107742, 76845133
95121754, 80229253
92467542, 87395624
83774999, 87793756
81850696, 81158227
84305841, 76778777
83509578, 71735775
81917051, 70674090
83310512, 66626418
87756317, 64038561
280
87867362, 81300792
87831789, 81301679
87796245, 81303365
87760748, 81305850
87725316, 81309133
87689966, 81313211
87654717, 81318083
87619587, 81323745
87584593, 81330197
87549752, 81337433
87515083, 81345450
87480603, 81354245
87446330, 81363813
87412280, 81374149
87378471, 81385247
87344921, 81397103
87311645, 81409710
87278661, 81423062
87245985, 81437152
87213635, 81451973
87181626, 81467518
87149974, 81483778
87118696, 81500746
87087807, 81518412
87057323, 81536768
87027260, 81555805
86997632, 81575513
86968455, 81595882
86939743, 81616902
86911510, 81638562
86883772, 81660851
86856542, 81683758
86829833, 81707271
86803660, 81731379
86778036, 81756069
86752973, 81781329
86728484, 81807146
86704582, 81833507
86681278, 81860399
86658585, 81887807
86636514, 81915719
86615075, 81944120
86594281, 81972996
86574141, 82002332
86554665, 82032113
86535864, 82062324
86517747, 82092951
86500323, 82123977
86483600, 82155387
86467588, 82187165
86452295, 82219295
86437728, 82251760
86423894, 82284545
86410800, 82317632
86398454, 82351006
86386861, 82384648
86376027, 82418543
86365958, 82452672
86356659, 82487020
86348134, 82521568
86340388, 82556298
86333425, 82591194
86327248, 82626238
86321860, 82661412
86317264, 82696697
86313463, 82732078
86310458, 82767535
86308251, 82803050
86306842, 82838606
86306234, 82874185
86306425, 82909768
86307417, 82945338
86309207, 82980877
86311796, 83016367
86315182, 83051789
86319364, 83087127
86324339, 83122361
86330105, 83157475
86336659, 83192450
86343997, 83227269
86352116, 83261914
86361012, 83296368
86370680, 83330614
86381116, 83364633
86392313, 83398409
86404268, 83431925
86416972, 83465164
86430421, 83498108
86444606, 83530742
86459522, 83563049
86475161, 83595013
86491513, 83626617
86508573, 83657845
86526329, 83688682
86544775, 83719111
86563900, 83749119
86583695, 83778689
86604149, 83807807
86625253, 83836457
86646996, 83864626
86669366, 83892298
86692353, 83919461
86715944, 83946101
86740129, 83972203
86764894, 83997755
86790227, 84022744
86816116, 84047157
86842547, 84070982
86869506, 84094207
86896981, 84116819
86924958, 84138809
86953421, 84160164
86982358, 84180873
87011753, 84200927
87041591, 84220316
87071857, 84239028
87102537, 84257055
87133614, 84274389
87165073, 84291019
87196897, 84306937
87229072, 84322137
87261580, 84336609
87294405, 84350347
87327531, 84363343
87360940, 84375591
87394617, 84387086
87428543, 84397820
87462702, 84407789
87497076, 84416988
87531649, 84425411
87566402, 84433055
87601318, 84439916
87636380, 84445991
87671569, 84451275
87706868, 84455767
87742260, 84459465
87777725, 84462366
87813247, 84464469
87848807, 84465773
87884387, 84466277
87919970, 84465982
87955537, 84464886
87991071, 84462992
88026552, 84460298
88061965, 84456808
88097290, 84452523
88132510, 84447445
88167606, 84441576
88202562, 84434920
88237359, 84427480
88271981, 84419259
88306409, 84410262
88340625, 84400494
88374614, 84389958
88408357, 84378662
88441838, 84366609
88475039, 84353807
88507944, 84340262
88540537, 84325981
88572800, 84310971
88604717, 84295239
88636273, 84278793
88667451, 84261643
88698236, 84243795
88728611, 84225261
88758563, 84206048
88788074, 84186167
88817132, 84165627
88845720, 84144439
88873825, 84122614
88901432, 84100163
88928528, 84077096
88955098, 84053427
88981129, 84029166
89006608, 84004326
89031523, 83978920
89055860, 83952960
89079607, 83926459
89102753, 83899431
89125285, 83871890
89147192, 83843849
89168464, 83815323
89189089, 83786326
89209056, 83756873
89228357, 83726978
89246981, 83696657
89264918, 83665924
89282160, 83634797
89298698, 83603289
89314523, 83571418
89329628, 83539199
89344005, 83506649
89357646, 83473784
89370546, 83440620
89382696, 83407175
89394092, 83373465
89404726, 83339507
89414595, 83305319
89423693, 83270918
89432015, 83236321
89439557, 83201545
89446316, 83166609
89452287, 83131530
89457469, 83096325
89461858, 83061013
89465452, 83025611
89468249, 82990137
89470248, 82954609
89471447, 82919046
89471847, 82883464
89471756, 82866438
89470973, 82830863
89469391, 82795314
89467010, 82759810
89463831, 82724368
89459857, 82689007
89455089, 82653744
89449529, 82618597
89443180, 82583584
89436046, 82548723
89428130, 82514030
89419436, 82479525
89409969, 82445223
89399733, 82411143
89388734, 82377302
89376976, 82343717
89364467, 82310404
89351212, 82277381
89337217, 82244665
89322491, 82212271
89307041, 82180216
89290873, 82148517
89273997, 82117189
89256422, 82086249
89238155, 82055712
89219206, 82025592
89199585, 81995907
89179302, 81966670
89158366, 81937896
89136789, 81909601
89114581, 81881797
89091754, 81854500
89068319, 81827723
89044288, 81801479
89019673, 81775782
88994487, 81750645
88968742, 81726081
88942451, 81702102
88915628, 81678719
88888286, 81655946
88860439, 81633793
88832101, 81612271
88803286, 81591392
88774010, 81571166
88744286, 81551603
88714129, 81532714
88683556, 81514507
88652581, 81496992
88621221, 81480178
88589490, 81464073
88557405, 81448685
88524982, 81434022
88492238, 81420092
88459189, 81406902
88425852, 81394458
88392244, 81382767
88358381, 81371834
88324281, 81361664
88289961, 81352265
88255439, 81343639
88220731, 81335791
88185855, 81328725
88150830, 81322445
88115672, 81316955
88080400, 81312255
88045031, 81308350
88009583, 81305242
87974074, 81302930
87938523, 81301418
87902946, 81300705
4
91140437, 77906817
91140437, 80030187
94126425, 80030187
94126425, 77906817
6
86960053, 73925500
88618935, 73792789
89415199, 74920829
90145107, 73859145
89614265, 71802130
87092764, 71005867
```
